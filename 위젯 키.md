# GlobalKey ì™€ LocalKey

ì´ì „ ë¬¸ì„œ

[[Flutter BuildContext ì™€ ìœ„ì ¯ í‚¤]]

![](https://i.imgur.com/ui5iE9h.png)

ğŸ’¡GlobalKey ì™€ LocalKey ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ì–´ëŠ ì˜ì—­ì—ì„œ ê¹Œì§€ ìœ ì¼í•œ ê°’ì¸ê°€ ì…ë‹ˆë‹¤. GlobalKeyëŠ” ì•± ì „ì²´ LocalKeyëŠ” ì§€ì •ëœ ìœ„ì ¯ì˜ ë¶€ëª¨ë¡œë¶€í„° ìì‹ ìœ„ì ¯ì—ì„œ ìœ ì¼í•œ ê°’ì…ë‹ˆë‹¤.

### LocalKey

**ValueKey**: ê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœì˜ í‚¤ë¡œ, ì¼ë°˜ì ì¸ ê°’(ë¬¸ìì—´, ì •ìˆ˜ ë“±)ìœ¼ë¡œ ìœ„ì ¯ì„ ì‹ë³„í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´, ValueKey('first_child') ë˜ëŠ” ValueKey(1)ì™€ ê°™ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.

```dart
Widget build(BuildContext context) {
  return ListTile(
    key: ValueKey('first_list_tile'),
    title: Text('First ListTile'),
  );
}
```

**ObjectKey**: ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” í‚¤ì…ë‹ˆë‹¤. ObjectKeyëŠ” í•´ë‹¹ ê°ì²´ì˜ hashCodeì™€ runtimeTypeì„ ì‚¬ìš©í•˜ì—¬ ìœ„ì ¯ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„° ëª¨ë¸ì—ì„œ ê°€ì ¸ì˜¨ ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ í•­ëª©ì„ ì‹ë³„í•˜ë ¤ëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.

```dart
final item = DataItem(id: 1, name: 'Item 1');

Widget build(BuildContext context) {
  return ListTile(
    key: ObjectKey(item),
    title: Text(item.name),
  );
}
```

**UniqueKey**: ë§¤ë²ˆ ìƒˆë¡œìš´ ê³ ìœ í•œ ì‹ë³„ìë¥¼ ìƒì„±í•˜ëŠ” í‚¤ì…ë‹ˆë‹¤. ì´ í‚¤ëŠ” ìœ„ì ¯ì´ ë§¤ë²ˆ ê³ ìœ í•´ì•¼ í•  ë•Œ ìœ ìš©í•˜ë©°, ì¬ìƒì„±ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ê°’ì„ ê°–ê²Œ ë©ë‹ˆë‹¤.

```dart
Widget build(BuildContext context) {
  return ListTile(
    key: UniqueKey(),
    title: Text('Dynamically Generated ListTile'),
  );
}
```



ì‹œë‚˜ë¦¬ì˜¤ ì½”ë“œ - ìœ„ì ¯í‚¤ ì‚¬ìš©í•´ë³´ê¸°
```dart
import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatefulWidget {
  const MyApp({super.key});

  @override
  State<MyApp> createState() => _MyAppState();
}

class _MyAppState extends State<MyApp> {
  List<Widget> widgetList = [
    A(
      Colors.orange,
      key: UniqueKey(),
    ),
    A(
      Colors.blue,
      key: UniqueKey(),
    ),
  ];

  onChange() {
    setState(() {
      // Aìœ„ì ¯ì„ ì‚­ì œí•˜ê³  - widgetList.removeAt(0)
      // ì‚­ì œí•˜ë©´ ì‚­ì œí•œ ìœ„ì ¯ì„ ë°˜í™˜ ê¹Œì§€ í•¨
      widgetList.insert(1, widgetList.removeAt(0));
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: SafeArea(
        child: Scaffold(
          body: Column(
            children: [
              Row(
                children: widgetList,
              ),
              ElevatedButton(
                onPressed: onChange,
                child: Text('toggle'),
              )
            ],
          ),
        ),
      ),
    );
  }
}

//////////////////////////////////////////

class A extends StatefulWidget {
  Color color;

  A(this.color, {super.key});

  @override
  State<A> createState() => _AState(this.color);
}

class _AState extends State<A> {
  Color _color;
  // ê¸°ë³¸ ìƒì„±ì ì—ì„œ --> ì‚¬ìš©ì ì •ì˜ ë³€ê²½ ë¨
  _AState(this._color);

  @override
  Widget build(BuildContext context) {
    return Expanded(
      child: Container(
        height: 300,
        color: _color,
        child: Center(
          child: Text("A"),
        ),
      ),
    );
  }
}
```

![](https://i.imgur.com/KyMHhtw.gif)
